workflows:
  - name: gradio-dolly-a100-i
    provider: bash
    ports:
      - 7860
    commands:
      - pip install -r dolly/requirements.txt
      - python dolly/app.py
    cache:
      - ~/.cache/pip
      - ./models
    resources:
      gpu:
        name: A100
      memory: 60GB
      interruptible: true

  - name: code-dolly-a100-i
    provider: code
    ports:
      - 7860
    setup:
      - pip install -r dolly/requirements.txt
    cache:
      - ~/.cache/pip
      - ./models
    resources:
      gpu:
        name: A100
      memory: 60GB
      interruptible: true