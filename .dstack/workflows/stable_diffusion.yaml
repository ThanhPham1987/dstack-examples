workflows:
  - name: stable-diffusion
    provider: bash
    ports: 1
    commands:
      - pip install -r tutorials/stable_diffusion/requirements.txt
      - python tutorials/stable_diffusion/app.py
    cache:
      - ~/.cache/pip
      - ./models
    resources:
      gpu:
        count: 1
      memory: 16GB
      interruptible: true
  - name: debug-stable-diffusion
    provider: code
    ports: 1
    setup:
      - pip install -r tutorials/stable_diffusion/requirements.txt
    cache:
      - ~/.cache/pip
      - ./models
    resources:
      gpu:
        count: 1
      memory: 16GB
      interruptible: true